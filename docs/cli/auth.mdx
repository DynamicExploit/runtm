---
title: Authentication
description: "Login, logout, and diagnose authentication"
---

# Authentication

Manage your Runtm authentication and credentials.

## login

Authenticate with the Runtm API.

```bash
runtm login
```

### Options

| Option | Short | Description |
|--------|-------|-------------|
| `--token TOKEN` | `-t` | API token (will prompt if not provided) |
| `--device` | | Use browser-based device flow (hosted only) |
| `--no-verify` | | Skip API validation (for self-hosted/offline) |
| `--force` | `-f` | Replace existing token without prompting |

### Examples

<CodeGroup>

```bash Interactive (recommended)
runtm login
# Follow the prompts to enter your API key
```

```bash Direct token
runtm login --token runtm_abc123xyz
```

```bash Self-hosted setup
runtm login --token my-token --no-verify
```

```bash Replace existing
runtm login --force
```

</CodeGroup>

### Getting an API Key

1. Go to [app.runtm.com](https://app.runtm.com)
2. Sign in or create an account
3. Navigate to **API Keys**
4. Create a new API key
5. Copy and paste into `runtm login`

<Warning>
  API keys are shown only once. Save them securely.
</Warning>

---

## logout

Remove saved API credentials.

```bash
runtm logout
```

### Options

| Option | Short | Description |
|--------|-------|-------------|
| `--force` | `-f` | Skip confirmation prompt |

### Examples

```bash
# With confirmation
runtm logout

# Skip confirmation
runtm logout --force
```

<Note>
  If you're using `RUNTM_API_KEY` environment variable, you'll need to unset it manually:
  ```bash
  unset RUNTM_API_KEY
  ```
</Note>

---

## doctor

Check CLI setup and diagnose issues.

```bash
runtm doctor
```

### Output

The doctor command shows:

- **CLI version**
- **API URL** (default or custom)
- **Auth storage** (keychain, file, or env)
- **Auth status** (authenticated user email)
- **Credentials** (file permissions if using file storage)
- **Connectivity** (API reachability and latency)

### Example Output

```
runtm v0.2.6

  API URL:      https://app.runtm.com/api
  Auth storage: keychain (runtm-api-key)
  Auth status:  ✓ Authenticated as user@example.com
  Connectivity: ✓ API reachable (42ms)

  Ready to deploy! Run: runtm init backend-service
```

### Troubleshooting with Doctor

<AccordionGroup>
  <Accordion title="Auth status shows '✗ Not authenticated'">
    Run `runtm login` to authenticate with your API key.
  </Accordion>
  <Accordion title="Auth status shows '✗ Token invalid or expired'">
    Your token may have been revoked. Create a new one at [app.runtm.com](https://app.runtm.com).
  </Accordion>
  <Accordion title="Connectivity shows '✗ Could not connect to API'">
    Check your internet connection. If self-hosting, verify the API URL:
    ```bash
    runtm config set api_url=https://your-api.example.com
    ```
  </Accordion>
  <Accordion title="Credentials shows permission warning">
    Fix file permissions:
    ```bash
    chmod 600 ~/.runtm/credentials
    ```
  </Accordion>
</AccordionGroup>

---

## version

Show CLI version.

```bash
runtm version
```

Output:
```
runtm v0.2.6
```

---

## Token Storage

The CLI stores tokens securely based on your platform:

### macOS

Uses the system Keychain. You can view stored credentials in Keychain Access.app under "runtm-api-key".

### Linux

Stores in `~/.runtm/credentials` with restricted permissions (mode 600). Only your user can read the file.

### Environment Variable

You can set `RUNTM_API_KEY` to avoid storing credentials:

```bash
export RUNTM_API_KEY=runtm_abc123xyz
```

This takes precedence over stored credentials.

---

## Self-Hosted Authentication

When using a self-hosted Runtm instance:

```bash
# Configure API URL
runtm config set api_url=https://runtm.internal.example.com/api

# Login with --no-verify if the API doesn't have /v1/me endpoint yet
runtm login --no-verify
```

See [Self-Hosting](/self-hosting/overview) for complete setup instructions.

