---
title: "Search Deployments"
api: "GET /v0/deployments/search"
description: "Search deployments by discovery metadata"
---

Search deployments by description, summary, tags, capabilities, and use cases defined in `runtm.discovery.yaml`.

## Query Parameters

<ParamField query="q" type="string" required>
  Search query (searches description, summary, tags, capabilities, use_cases, and name)
</ParamField>

<ParamField query="state" type="string">
  Filter by state: `queued`, `building`, `deploying`, `ready`, `failed`, `destroyed`
</ParamField>

<ParamField query="template" type="string">
  Filter by template: `backend-service`, `static-site`, `web-app`
</ParamField>

<ParamField query="limit" type="integer" default="20">
  Maximum results (1-100)
</ParamField>

## Response

<ResponseField name="results" type="array">
  List of matching deployments with relevance scores
  <Expandable title="Search result object">
    <ResponseField name="deployment_id" type="string">
      Deployment identifier
    </ResponseField>
    <ResponseField name="name" type="string">
      Project name
    </ResponseField>
    <ResponseField name="state" type="string">
      Current state
    </ResponseField>
    <ResponseField name="match_score" type="number">
      Relevance score (higher is better)
    </ResponseField>
    <ResponseField name="discovery" type="object">
      Discovery metadata (description, summary, tags, etc.)
    </ResponseField>
  </Expandable>
</ResponseField>

<ResponseField name="total" type="integer">
  Total matching results
</ResponseField>

<ResponseField name="query" type="string">
  The search query used
</ResponseField>

<RequestExample>
```bash cURL
curl -X GET "https://app.runtm.com/api/v0/deployments/search?q=payment&state=ready" \
  -H "Authorization: Bearer runtm_xxx"
```

```python Python
import requests

response = requests.get(
    "https://app.runtm.com/api/v0/deployments/search",
    headers={"Authorization": "Bearer runtm_xxx"},
    params={
        "q": "payment",
        "state": "ready",
        "template": "backend-service"
    }
)

data = response.json()
for result in data["results"]:
    print(f"{result['name']} (score: {result['match_score']})")
```

```javascript JavaScript
const params = new URLSearchParams({
  q: "payment",
  state: "ready",
  template: "backend-service"
});

const response = await fetch(
  `https://app.runtm.com/api/v0/deployments/search?${params}`,
  {
    headers: {
      "Authorization": "Bearer runtm_xxx"
    }
  }
);

const data = await response.json();
data.results.forEach(result => {
  console.log(`${result.name} (score: ${result.match_score})`);
});
```
</RequestExample>

<ResponseExample>
```json 200
{
  "results": [
    {
      "deployment_id": "dep_abc123xyz",
      "name": "stripe-webhook",
      "state": "ready",
      "url": "https://stripe-webhook-abc123.fly.dev",
      "template": "backend-service",
      "runtime": "python",
      "version": 2,
      "is_latest": true,
      "created_at": "2024-01-15T10:30:00Z",
      "match_score": 1.8,
      "discovery": {
        "description": "Stripe webhook handler that processes payment events in real-time.",
        "summary": "Real-time Stripe payment webhook processor",
        "tags": ["stripe", "webhook", "payments", "api"],
        "capabilities": [
          "Process Stripe webhook events",
          "Update order status in database"
        ]
      }
    }
  ],
  "total": 1,
  "query": "payment"
}
```
</ResponseExample>

<Info>
Search results are ranked by relevance. Exact tag matches score highest, followed by summary, description, capabilities, use cases, and name matches.
</Info>

